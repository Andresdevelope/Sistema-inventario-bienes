REQUERIMIENTOS FUNCIONALES Y NO FUNCIONALES
Sistema: Inventario de Bienes

1. Descripción general
        El sistema permite:
        • Gestionar el inventario de bienes institucionales.
        • Administrar los usuarios que acceden al sistema.
        • Registrar en una bitácora las acciones relevantes realizadas por los usuarios.

2. Módulos principales
        • M1: Gestión de Bienes
        • M2: Gestión de Usuarios
        • M3: Registro y Consulta de Bitácora de Movimientos

======================================================================
A) REQUERIMIENTOS FUNCIONALES
======================================================================

A.1. Módulo de Gestión de Bienes (M1)

RF-01: Registrar nuevos bienes capturando como mínimo: nombre, código, descripción,
         categoría, ubicación, estado, fecha de adquisición y valor (opcional).

RF-02: Validar que el código del bien sea único y no se repita para diferentes registros.

RF-03: Consultar el listado de bienes mostrando: nombre, código, estado, ubicación y categoría.

RF-04: Filtrar la lista de bienes por código, nombre, estado, ubicación o categoría.

RF-05: Visualizar el detalle de un bien específico, incluyendo su categoría.

RF-06: Modificar los datos de un bien registrado, manteniendo la unicidad del código y
         permitiendo cambiar su categoría.

RF-07: Cambiar el estado de un bien (por ejemplo: "bueno", "regular", "dañado", "de baja").

RF-08: Marcar un bien como dado de baja (baja lógica), conservando historial.

RF-09: Consultar y generar reportes que muestren la cantidad de bienes agrupados por categoría.


A.2. Módulo de Gestión de Usuarios (M2)

RF-10: Registrar nuevos usuarios con: nombre, correo, contraseña, rol y respuestas de seguridad.

RF-11: Validar que el correo electrónico del usuario sea único.

RF-12: Consultar el listado de usuarios con: nombre, correo y rol.

RF-13: Modificar los datos de un usuario, incluyendo su rol.

RF-14: Desactivar o bloquear usuarios sin eliminar su historial.

RF-15: Autenticación mediante correo y contraseña.

RF-16: Controlar intentos fallidos de inicio de sesión y bloquear temporalmente la cuenta al superar el umbral.


A.3. Módulo de Bitácora de Movimientos (M3)

RF-17: Registrar automáticamente acciones relevantes: usuario, módulo, entidad afectada,
        acción, resultado y fecha/hora.

RF-18: Registrar operaciones de creación, actualización y baja lógica de bienes.

RF-19: Registrar operaciones de creación, modificación, bloqueo y cambio de rol de usuarios.

RF-20: Consultar bitácora con filtros por fecha, usuario, módulo, tipo de acción y resultado.

RF-21: Visualizar detalle de un registro de bitácora con descripción de la acción.

RF-22: Impedir modificación o eliminación manual de registros de bitácora por usuarios finales.


======================================================================
B) REQUERIMIENTOS NO FUNCIONALES
======================================================================

B.1. Seguridad

RNF-01: Autenticación obligatoria para acceder a módulos.

RNF-02: Contraseñas almacenadas con cifrado/hash seguro (p.ej., "hashed" de Laravel Eloquent).

RNF-03: Acceso al módulo de usuarios y configuración solo para administradores (RBAC básico por rol).

RNF-04: Uso de sesiones seguras y cierre de sesión para proteger accesos.

Estado actual de seguridad y 2FA
• Implementado:
  - Política de contraseñas con longitud mínima alta (16 caracteres) en registro y cambio de contraseña.
  - Control de intentos de login y bloqueo de cuenta al 3er fallo (campos "login_attempts" y "locked_until").
  - reCAPTCHA v2 en formularios de inicio de sesión y recuperación de contraseña.
  - Preguntas de seguridad para recuperación de contraseña.
  - Bitácora de eventos de autenticación (login/logout) y de bloqueo automático.
• Pendiente (2FA - Autenticación de doble factor):
  - Habilitar 2FA por TOTP (Google Authenticator/FreeOTP) con alta/baja de secreto por usuario.
  - Provisión de secreto vía QR y verificación de código en login (tras password).
  - Códigos de respaldo (backup codes) para recuperación.
  - Políticas de obligatoriedad por rol (p.ej., admins deben usar 2FA; operadores opcional).
  - Límite de intentos y bloqueo específico de 2FA.
  - Configuración vía .env (p.ej., TWO_FACTOR_ENABLED, TWO_FACTOR_ISSUER) y pantallas de activación/desactivación.
  - Ajuste de reloj/deriva tolerada (time drift) y sincronización NTP del servidor.


B.2. Usabilidad

RNF-05: Interfaz sencilla e intuitiva.

RNF-06: Mensajes de error claros, indicando el campo a corregir.


B.3. Rendimiento y capacidad

RNF-07: Listar bienes en menos de 3 segundos en condiciones normales.

RNF-08: Soportar entre 5 y 20 usuarios concurrentes sin degradación notable.

RNF-20: Los listados deben usar paginación y búsqueda eficiente para grandes volúmenes.

RNF-21: Índices adecuados en campos de búsqueda (código, nombre, estado, categoría) en la BD.


B.4. Mantenibilidad y extensibilidad

RNF-09: Desarrollado siguiendo arquitectura Laravel, permitiendo agregar módulos/campos sin reescribir la aplicación.

RNF-10: Código estructurado (MVC: controladores, modelos, vistas) para facilitar mantenimiento.

RNF-22: Uso de migraciones, seeders y versionado en git para trazabilidad de cambios.


B.5. Auditoría y trazabilidad

RNF-11: Mantener registro histórico suficiente en bitácora para reconstruir acciones críticas.

RNF-12: Conservar registros de bitácora mínimo 1 año (según política institucional).

RNF-23: Los registros de bitácora deben ser inmutables para usuarios finales y administradores (solo mantenimiento técnico controlado).


B.6. Portabilidad y entorno

RNF-13: Desplegable en servidor web con PHP y MySQL/MariaDB compatibles con Laravel.

RNF-14: Accesible desde navegadores modernos.

RNF-24: Despliegue sobre HTTPS obligatorio; redirección automática de HTTP a HTTPS.

RNF-25: Protección CSRF activa en formularios y rutas con estado.


B.7. Plataforma tecnológica y metodología

RNF-15: Backend en PHP 8.2 con Laravel 12.

RNF-16: Base de datos en MySQL.

RNF-17: Servidor web Apache HTTP configurado para Laravel.

RNF-18: Frontend con HTML, Tailwind CSS y JavaScript.

RNF-19: Desarrollo bajo metodología ágil Extreme Programming (XP).

RNF-26: Monitorización y alertas (logs centralizados; detección de intentos anómalos de acceso).

RNF-27: Copias de seguridad periódicas de la base de datos y plan de recuperación ante desastres (RPO/RTO definidos).

RNF-28: Gestión de configuración mediante .env con valores sensibles no versionados.

(Estos requerimientos pueden ajustarse y ampliarse según las indicaciones del
proyecto de grado o del tutor.)
